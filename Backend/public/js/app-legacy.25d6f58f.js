(function(){"use strict";var e={2447:function(e,t,r){r(6992),r(8674),r(9601),r(7727);var n=r(9963),s=r(6252);function o(e,t){var r=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(r)}var i=r(3744);const a={},u=(0,i.Z)(a,[["render",o]]);var l=u,c=r(2119),d=(r(4916),r(4765),r(3577)),h=r.p+"img/Girl-reading.78277237.png",f=r.p+"img/More-books.fdcf0c42.png",m=(0,s._)("div",{class:"banner-container"},[(0,s._)("div",{class:"banner-titles"},[(0,s._)("h1",null,"Reading Nook"),(0,s._)("h2",{class:"tagline"},"Find your favorite book series")]),(0,s._)("img",{id:"girl-reading",src:h,alt:""})],-1),p={class:"grid-container"},v={class:"filter-column"},g={class:"search-container"},w={action:""},b={class:"filter-checkboxes"},y=(0,s._)("h3",{class:"category-title"},"Genre",-1),k=["id","value","onUpdate:modelValue"],_=["for"],x=(0,s._)("h3",{class:"category-title"},"Author",-1),S=["id","value","onUpdate:modelValue"],L=["for"],D=(0,s._)("h3",{class:"category-title"},"Books Released",-1),R=["id","value","onUpdate:modelValue"],q=["for"],A={key:1,class:"add-series-container"},C={class:"results-column"};function O(e,t,r,o,i,a){var u=(0,s.up)("Icon"),l=(0,s.up)("AddSeries"),c=(0,s.up)("Collection-card");return(0,s.wg)(),(0,s.iD)(s.HY,null,[m,(0,s._)("div",p,[(0,s._)("div",v,[(0,s._)("div",g,[(0,s.Wm)(u,{class:"icon",icon:"mdi:magnify"}),(0,s.wy)((0,s._)("input",{class:"search-box",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.search=e}),placeholder:" Search"},null,512),[[n.nr,i.search]])]),(0,s._)("form",w,[(0,s._)("div",b,[y,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.genresList,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"checkbox-item genre",key:e},[(0,s.wy)((0,s._)("input",{type:"checkbox",id:e,value:e,"onUpdate:modelValue":function(e){return i.selected.genre=e}},null,8,k),[[n.e8,i.selected.genre]]),(0,s._)("label",{for:e},(0,d.zw)(" "+e),9,_)])})),128)),x,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.authorsList,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"checkbox-item authors",key:e},[(0,s.wy)((0,s._)("input",{type:"checkbox",id:e,value:e,"onUpdate:modelValue":function(e){return i.selected.author=e}},null,8,S),[[n.e8,i.selected.author]]),(0,s._)("label",{for:e},(0,d.zw)(" "+e),9,L)])})),128)),D,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.volumesRange,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"checkbox-item range",key:e.id},[(0,s.wy)((0,s._)("input",{type:"checkbox",id:e,value:e,"onUpdate:modelValue":function(e){return i.selected.range=e}},null,8,R),[[n.e8,i.selected.range]]),(0,s._)("label",{for:e},(0,d.zw)(" "+e.min+"-"+e.max),9,q)])})),128))])]),i.showAddSeries?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("img",{key:0,id:"add-series",src:f,alt:"Add new series",onClick:t[1]||(t[1]=function(e){return i.showAddSeries=!i.showAddSeries})})),i.showAddSeries?((0,s.wg)(),(0,s.iD)("div",A,[(0,s.Wm)(l,{onAddSeries:a.updateResults},null,8,["onAddSeries"]),(0,s._)("button",{class:"close-button",onClick:t[2]||(t[2]=function(e){return i.showAddSeries=!i.showAddSeries})},"X")])):(0,s.kq)("",!0)]),(0,s._)("div",C,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.filteredResults,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"results",key:e._id},[((0,s.wg)(),(0,s.j4)(c,{series:e.title,author:e.author,volumes:e.volumes,query:e.query,id:e._id,key:i.updateKey,onDeleteSeries:a.updateResults},null,8,["series","author","volumes","query","id","onDeleteSeries"]))])})),128))])])],64)}var U=r(8534),j=(r(5666),r(1539),r(189),r(8783),r(3948),r(1249),r(7327),r(6699),r(2023),r.p+"img/Placeholder.97f6731c.jpg"),N={class:"collection-header"},V={class:"collection-covers"},B=["href"],H=["src","alt"],I={key:1,class:"thumbnails",src:j,alt:"Unable to load cover"};function F(e,t,r,n,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",N,[(0,s._)("h2",null,(0,d.zw)(r.series)+" - "+(0,d.zw)(r.author),1),(0,s._)("h3",null,(0,d.zw)(r.volumes)+" books ",1)]),(0,s._)("div",V,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.newBookdata,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"thumbnails-container",key:e.id},[(0,s._)("a",{href:e.previewLink},[o.error?((0,s.wg)(),(0,s.iD)("img",I)):((0,s.wg)(),(0,s.iD)("img",{key:0,class:"thumbnails",src:e.thumbnail,alt:e.title},null,8,H))],8,B)])})),128))]),(0,s._)("button",{class:"delete-button",onClick:t[0]||(t[0]=function(){return i.handleDelete&&i.handleDelete.apply(i,arguments)})},"X")],64)}r(9653);var K={props:{query:{type:String},series:{type:String},author:{type:String},volumes:{type:Number},id:{type:String}},data:function(){return{loading:!0,booksData:{},apikey:"AIzaSyBHT6TiKcrTNsz2LfREcrvisU6a_6S7kG0",newBookdata:[],error:!1}},methods:{handleDelete:function(){var e=this;return(0,U.Z)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="api/series/"+e.id,t.next=3,fetch(r,{method:"DELETE"});case 3:n=t.sent,e.$emit("delete-series"),console.log(n);case 6:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return(0,U.Z)(regeneratorRuntime.mark((function t(){var r,n,s,o,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://www.googleapis.com/books/v1/volumes?q="+e.query+"&key="+e.apikey);case 3:return r=t.sent,t.next=6,r.json();case 6:n=t.sent,console.log,e.booksData=n,s=0;while(e.newBookdata.length<3)n.items[s].volumeInfo.title.includes("Set")||n.items[s].volumeInfo.title.toLowerCase().includes(e.author.toLowerCase())||n.items[s].volumeInfo.title.toLowerCase().includes(e.series.toLowerCase())||(o={id:n.items[s].id,title:n.items[s].volumeInfo.title,author:n.items[s].volumeInfo.authors,previewLink:n.items[s].volumeInfo.previewLink,thumbnail:n.items[s].volumeInfo.imageLinks.thumbnail},e.newBookdata.push(o)),s++;return t.abrupt("return",e.newBookdata);case 14:for(t.prev=14,t.t0=t["catch"](0),console.log(t.t0),console.log("The query for this book series did not work: "+e.series),i=0;i<3;i++)a={id:i+1},e.newBookdata.push(a);return e.error=!0,t.abrupt("return",e.newBookdata);case 21:case"end":return t.stop()}}),t,null,[[0,14]])})))()}};const T=(0,i.Z)(K,[["render",F]]);var Z=T,z=r(6542),Y=(0,s._)("h3",{class:"series-form-title"},"Add New Series",-1),E={class:"form-field"},P=(0,s._)("label",{class:"input-label",for:"series-name"},"Series",-1),G={class:"form-field"},J=(0,s._)("label",{class:"input-label"},"Author",-1),M={class:"form-field-flex"},W={class:"form-field"},X=(0,s._)("label",{class:"input-label",for:"genre"},"Genre",-1),$={class:"form-field-flex"},Q=(0,s._)("label",{for:"volumes"},"Books Released",-1),ee=(0,s._)("button",{class:"submit-series"},"Add",-1);function te(e,t,r,o,i,a){return(0,s.wg)(),(0,s.iD)("form",{class:"add-series-form",onSubmit:t[5]||(t[5]=(0,n.iM)((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[Y,(0,s._)("div",E,[P,(0,s.wy)((0,s._)("input",{class:"series-input-field block-field",id:"series-name",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.seriesName=e}),required:"",placeholder:"Name of series"},null,512),[[n.nr,i.seriesName]])]),(0,s._)("div",G,[J,(0,s._)("div",M,[(0,s.wy)((0,s._)("input",{class:"series-input-field author-field",id:"authorFirst",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.authorFirst=e}),required:"",placeholder:"First Name"},null,512),[[n.nr,i.authorFirst]]),(0,s.wy)((0,s._)("input",{class:"series-input-field author-field",id:"authorLast",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.authorLast=e}),required:"",placeholder:"Last Name"},null,512),[[n.nr,i.authorLast]])])]),(0,s._)("div",W,[X,(0,s.wy)((0,s._)("input",{class:"series-input-field block-field",id:"genre",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.genre=e}),required:"",placeholder:"e.g. Fantasy, Sci-fi"},null,512),[[n.nr,i.genre]])]),(0,s._)("div",$,[Q,(0,s.wy)((0,s._)("input",{class:"series-input-field",id:"volumes",type:"number","onUpdate:modelValue":t[4]||(t[4]=function(e){return i.volumes=e})},null,512),[[n.nr,i.volumes,void 0,{number:!0}]]),ee])],32)}r(5306),r(8862),r(1703);var re={data:function(){return{seriesName:"",authorFirst:"",authorLast:"",genre:"",volumes:1}},computed:{query:function(){var e=this.seriesName.replace(/ /g,"+")+"+"+this.authorLast;return e},newSeries:function(){var e={title:this.seriesName,author:this.authorFirst+" "+this.authorLast,query:this.query,genre:this.genre,volumes:this.volumes};return e}},methods:{handleSubmit:function(){var e=this;return(0,U.Z)(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r="api/series/",n=JSON.stringify(e.newSeries),t.next=5,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:n});case 5:if(s=t.sent,!s.ok){t.next=11;break}console.log("Series added: "+e.newSeries.title),e.$emit("add-series"),t.next=12;break;case 11:throw new Error("Request failed");case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()}}};const ne=(0,i.Z)(re,[["render",te]]);var se=ne,oe={name:"Home",components:{CollectionCard:Z,Icon:z.JO,AddSeries:se},data:function(){return{results:[],newSeries:[],search:"",authorsList:[],genresList:[],testvar:[],volumesRange:[{id:1,min:1,max:3},{id:2,min:4,max:7},{id:3,min:8,max:12},{id:4,min:13,max:20}],selected:{author:[],genre:[],volumes:[],range:[]},showAddSeries:!1,updateKey:0}},created:function(){var e=this;return(0,U.Z)(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="api/series/",t.prev=1,t.next=4,fetch(r);case 4:return n=t.sent,t.next=7,n.json();case 7:s=t.sent,console.log(s),e.results=s,e.authorsList=new Set(e.results.map((function(e){return e.author}))),e.genresList=new Set(e.results.map((function(e){return e.genre}))),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})))()},computed:{filteredResults:function(){var e,t=this;return e=this.results.filter((function(e){return!(t.selected.author.length>0&&!t.selected.author.includes(e.author))&&(!(t.selected.genre.length>0&&!t.selected.genre.includes(e.genre))&&(t.selected.range.length>0?t.selected.range.map((function(t){return e.volumes>=t.min&&e.volumes<=t.max})).includes(!0):!(t.search.length>0&&!e.title.toLowerCase().includes(t.search.toLowerCase())&&!e.author.toLowerCase().includes(t.search.toLowerCase()))))})),e}},methods:{updateResults:function(){var e=this;return(0,U.Z)(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="api/series/",t.prev=1,t.next=4,fetch(r);case 4:return n=t.sent,t.next=7,n.json();case 7:s=t.sent,console.log(s),e.results=s,e.authorsList=new Set(e.results.map((function(e){return e.author}))),e.genresList=new Set(e.results.map((function(e){return e.genre}))),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),console.log(t.t0);case 17:e.updateKey++;case 18:case"end":return t.stop()}}),t,null,[[1,14]])})))()}}};const ie=(0,i.Z)(oe,[["render",O]]);var ae=ie,ue=[{path:"/",name:"Home",component:ae}],le=(0,c.p7)({history:(0,c.PO)("/"),routes:ue}),ce=le;(0,n.ri)(l).use(ce).mount("#app")}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,n,s,o){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],o=e[c][2];for(var a=!0,u=0;u<n.length;u++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(a=!1,o<i&&(i=o));if(a){e.splice(c--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,s,o]}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.p="/"}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,o,i=n[0],a=n[1],u=n[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(s in a)r.o(a,s)&&(r.m[s]=a[s]);if(u)var c=u(r)}for(t&&t(n);l<i.length;l++)o=i[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},n=self["webpackChunkoctober_list"]=self["webpackChunkoctober_list"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(2447)}));n=r.O(n)})();
//# sourceMappingURL=app-legacy.25d6f58f.js.map