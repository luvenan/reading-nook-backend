(function(){"use strict";var e={2447:function(e,t,s){var i=s(9963),r=s(6252);function o(e,t){const s=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(s)}var l=s(3744);const n={},a=(0,l.Z)(n,[["render",o]]);var u=a,c=s(2119),d=s(3577),h=s.p+"img/Girl-reading.78277237.png",m=s.p+"img/More-books.fdcf0c42.png";const p=(0,r._)("div",{class:"banner-container"},[(0,r._)("div",{class:"banner-titles"},[(0,r._)("h1",null,"Reading Nook"),(0,r._)("h2",{class:"tagline"},"Find your favorite book series")]),(0,r._)("img",{id:"girl-reading",src:h,alt:""})],-1),f={class:"grid-container"},g={class:"filter-column"},w={class:"search-container"},v={action:""},y={class:"filter-checkboxes"},b=(0,r._)("h3",{class:"category-title"},"Genre",-1),k=["id","value","onUpdate:modelValue"],_=["for"],S=(0,r._)("h3",{class:"category-title"},"Author",-1),L=["id","value","onUpdate:modelValue"],x=["for"],D=(0,r._)("h3",{class:"category-title"},"Books Released",-1),q=["id","value","onUpdate:modelValue"],A=["for"],C={key:1,class:"add-series-container"},O={class:"results-column"};function U(e,t,s,o,l,n){const a=(0,r.up)("Icon"),u=(0,r.up)("AddSeries"),c=(0,r.up)("Collection-card");return(0,r.wg)(),(0,r.iD)(r.HY,null,[p,(0,r._)("div",f,[(0,r._)("div",g,[(0,r._)("div",w,[(0,r.Wm)(a,{class:"icon",icon:"mdi:magnify"}),(0,r.wy)((0,r._)("input",{class:"search-box",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.search=e),placeholder:" Search"},null,512),[[i.nr,l.search]])]),(0,r._)("form",v,[(0,r._)("div",y,[b,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.genresList,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"checkbox-item genre",key:e},[(0,r.wy)((0,r._)("input",{type:"checkbox",id:e,value:e,"onUpdate:modelValue":e=>l.selected.genre=e},null,8,k),[[i.e8,l.selected.genre]]),(0,r._)("label",{for:e},(0,d.zw)(" "+e),9,_)])))),128)),S,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.authorsList,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"checkbox-item authors",key:e},[(0,r.wy)((0,r._)("input",{type:"checkbox",id:e,value:e,"onUpdate:modelValue":e=>l.selected.author=e},null,8,L),[[i.e8,l.selected.author]]),(0,r._)("label",{for:e},(0,d.zw)(" "+e),9,x)])))),128)),D,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.volumesRange,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"checkbox-item range",key:e.id},[(0,r.wy)((0,r._)("input",{type:"checkbox",id:e,value:e,"onUpdate:modelValue":e=>l.selected.range=e},null,8,q),[[i.e8,l.selected.range]]),(0,r._)("label",{for:e},(0,d.zw)(" "+e.min+"-"+e.max),9,A)])))),128))])]),l.showAddSeries?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("img",{key:0,id:"add-series",src:m,alt:"Add new series",onClick:t[1]||(t[1]=e=>l.showAddSeries=!l.showAddSeries)})),l.showAddSeries?((0,r.wg)(),(0,r.iD)("div",C,[(0,r.Wm)(u,{onAddSeries:n.updateResults},null,8,["onAddSeries"]),(0,r._)("button",{class:"close-button",onClick:t[2]||(t[2]=e=>l.showAddSeries=!l.showAddSeries)},"X")])):(0,r.kq)("",!0)]),(0,r._)("div",O,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.filteredResults,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"results",key:e._id},[((0,r.wg)(),(0,r.j4)(c,{series:e.title,author:e.author,volumes:e.volumes,query:e.query,id:e._id,key:l.updateKey,onDeleteSeries:n.updateResults},null,8,["series","author","volumes","query","id","onDeleteSeries"]))])))),128))])])],64)}s(6699);var j=s.p+"img/Placeholder.97f6731c.jpg";const N={class:"collection-header"},R={class:"collection-covers"},V=["href"],B=["src","alt"],H={key:1,class:"thumbnails",src:j,alt:"Unable to load cover"};function I(e,t,s,i,o,l){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",N,[(0,r._)("h2",null,(0,d.zw)(s.series)+" - "+(0,d.zw)(s.author),1),(0,r._)("h3",null,(0,d.zw)(s.volumes)+" books ",1)]),(0,r._)("div",R,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.newBookdata,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"thumbnails-container",key:e.id},[(0,r._)("a",{href:e.previewLink},[o.error?((0,r.wg)(),(0,r.iD)("img",H)):((0,r.wg)(),(0,r.iD)("img",{key:0,class:"thumbnails",src:e.thumbnail,alt:e.title},null,8,B))],8,V)])))),128))]),(0,r._)("button",{class:"delete-button",onClick:t[0]||(t[0]=(...e)=>l.handleDelete&&l.handleDelete(...e))},"X")],64)}var F={props:{query:{type:String},series:{type:String},author:{type:String},volumes:{type:Number},id:{type:String}},data(){return{loading:!0,booksData:{},apikey:"AIzaSyBHT6TiKcrTNsz2LfREcrvisU6a_6S7kG0",newBookdata:[],error:!1}},methods:{async handleDelete(){const e="api/series/"+this.id,t=await fetch(e,{method:"DELETE"});this.$emit("delete-series"),console.log(t)}},async created(){try{const e=await fetch("https://www.googleapis.com/books/v1/volumes?q="+this.query+"&key="+this.apikey),t=await e.json();console.log,this.booksData=t;let s=0;while(this.newBookdata.length<3){if(!t.items[s].volumeInfo.title.includes("Set")&&!t.items[s].volumeInfo.title.toLowerCase().includes(this.author.toLowerCase())&&!t.items[s].volumeInfo.title.toLowerCase().includes(this.series.toLowerCase())){let e={id:t.items[s].id,title:t.items[s].volumeInfo.title,author:t.items[s].volumeInfo.authors,previewLink:t.items[s].volumeInfo.previewLink,thumbnail:t.items[s].volumeInfo.imageLinks.thumbnail};this.newBookdata.push(e)}s++}return this.newBookdata}catch(e){console.log(e),console.log("The query for this book series did not work: "+this.series);for(let t=0;t<3;t++){let e={id:t+1};this.newBookdata.push(e)}return this.error=!0,this.newBookdata}}};const K=(0,l.Z)(F,[["render",I]]);var T=K,z=s(6542);const Y=(0,r._)("h3",{class:"series-form-title"},"Add New Series",-1),E={class:"form-field"},P=(0,r._)("label",{class:"input-label",for:"series-name"},"Series",-1),G={class:"form-field"},Z=(0,r._)("label",{class:"input-label"},"Author",-1),J={class:"form-field-flex"},M={class:"form-field"},W=(0,r._)("label",{class:"input-label",for:"genre"},"Genre",-1),X={class:"form-field-flex"},$=(0,r._)("label",{for:"volumes"},"Books Released",-1),Q=(0,r._)("button",{class:"submit-series"},"Add",-1);function ee(e,t,s,o,l,n){return(0,r.wg)(),(0,r.iD)("form",{class:"add-series-form",onSubmit:t[5]||(t[5]=(0,i.iM)(((...e)=>n.handleSubmit&&n.handleSubmit(...e)),["prevent"]))},[Y,(0,r._)("div",E,[P,(0,r.wy)((0,r._)("input",{class:"series-input-field block-field",id:"series-name",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.seriesName=e),required:"",placeholder:"Name of series"},null,512),[[i.nr,l.seriesName]])]),(0,r._)("div",G,[Z,(0,r._)("div",J,[(0,r.wy)((0,r._)("input",{class:"series-input-field author-field",id:"authorFirst",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.authorFirst=e),required:"",placeholder:"First Name"},null,512),[[i.nr,l.authorFirst]]),(0,r.wy)((0,r._)("input",{class:"series-input-field author-field",id:"authorLast",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>l.authorLast=e),required:"",placeholder:"Last Name"},null,512),[[i.nr,l.authorLast]])])]),(0,r._)("div",M,[W,(0,r.wy)((0,r._)("input",{class:"series-input-field block-field",id:"genre",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.genre=e),required:"",placeholder:"e.g. Fantasy, Sci-fi"},null,512),[[i.nr,l.genre]])]),(0,r._)("div",X,[$,(0,r.wy)((0,r._)("input",{class:"series-input-field",id:"volumes",type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>l.volumes=e)},null,512),[[i.nr,l.volumes,void 0,{number:!0}]]),Q])],32)}s(1703);var te={data(){return{seriesName:"",authorFirst:"",authorLast:"",genre:"",volumes:1}},computed:{query(){let e=this.seriesName.replace(/ /g,"+")+"+"+this.authorLast;return e},newSeries(){let e={title:this.seriesName,author:this.authorFirst+" "+this.authorLast,query:this.query,genre:this.genre,volumes:this.volumes};return e}},methods:{async handleSubmit(){try{const e="api/series/",t=JSON.stringify(this.newSeries),s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t});if(!s.ok)throw new Error("Request failed");console.log("Series added: "+this.newSeries.title),this.$emit("add-series")}catch(e){console.log(e)}}}};const se=(0,l.Z)(te,[["render",ee]]);var ie=se,re={name:"Home",components:{CollectionCard:T,Icon:z.JO,AddSeries:ie},data(){return{results:[],newSeries:[],search:"",authorsList:[],genresList:[],testvar:[],volumesRange:[{id:1,min:1,max:3},{id:2,min:4,max:7},{id:3,min:8,max:12},{id:4,min:13,max:20}],selected:{author:[],genre:[],volumes:[],range:[]},showAddSeries:!1,updateKey:0}},async created(){const e="api/series/";try{const t=await fetch(e),s=await t.json();console.log(s),this.results=s,this.authorsList=new Set(this.results.map((e=>e.author))),this.genresList=new Set(this.results.map((e=>e.genre)))}catch(t){console.log(t)}},computed:{filteredResults:function(){let e;return e=this.results.filter((e=>!(this.selected.author.length>0&&!this.selected.author.includes(e.author))&&(!(this.selected.genre.length>0&&!this.selected.genre.includes(e.genre))&&(this.selected.range.length>0?this.selected.range.map((t=>e.volumes>=t.min&&e.volumes<=t.max)).includes(!0):!(this.search.length>0&&!e.title.toLowerCase().includes(this.search.toLowerCase())&&!e.author.toLowerCase().includes(this.search.toLowerCase())))))),e}},methods:{async updateResults(){const e="api/series/";try{const t=await fetch(e),s=await t.json();console.log(s),this.results=s,this.authorsList=new Set(this.results.map((e=>e.author))),this.genresList=new Set(this.results.map((e=>e.genre)))}catch(t){console.log(t)}this.updateKey++}}};const oe=(0,l.Z)(re,[["render",U]]);var le=oe;const ne=[{path:"/",name:"Home",component:le}],ae=(0,c.p7)({history:(0,c.PO)("/"),routes:ne});var ue=ae;(0,i.ri)(u).use(ue).mount("#app")}},t={};function s(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,i,r,o){if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],r=e[c][1],o=e[c][2];for(var n=!0,a=0;a<i.length;a++)(!1&o||l>=o)&&Object.keys(s.O).every((function(e){return s.O[e](i[a])}))?i.splice(a--,1):(n=!1,o<l&&(l=o));if(n){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,r,o]}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,o,l=i[0],n=i[1],a=i[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(r in n)s.o(n,r)&&(s.m[r]=n[r]);if(a)var c=a(s)}for(t&&t(i);u<l.length;u++)o=l[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},i=self["webpackChunkoctober_list"]=self["webpackChunkoctober_list"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(2447)}));i=s.O(i)})();
//# sourceMappingURL=app.1aa8821c.js.map